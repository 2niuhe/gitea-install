# Gitea 快速开始指南

## 🚀 5分钟快速部署

### 前提条件
- ✅ Docker 已安装
- ✅ Docker Compose 已安装

### 一键启动
```bash
# 1. 进入项目目录
cd /home/nh/workshop/gitea_install

# 2. 启动服务
docker-compose -f docker-compose-gitea.yml up -d

# 3. 查看状态
docker-compose -f docker-compose-gitea.yml ps

# 4. 访问服务
# 浏览器打开: http://localhost:4000
```

### 首次配置
1. **访问**: http://localhost:4000
2. **数据库**: 选择 SQLite3 (默认)
3. **管理员**: 创建管理员账户
4. **完成**: 点击 "立即安装"

## 📋 常用命令

### 服务管理
```bash
# 启动服务
./manage-gitea.sh start

# 停止服务
./manage-gitea.sh stop

# 重启服务
./manage-gitea.sh restart

# 查看状态
./manage-gitea.sh status

# 查看日志
./manage-gitea.sh logs
```

### 数据操作
```bash
# 备份数据
./manage-gitea.sh backup

# 数据迁移 (从其他服务器)
./migrate-gitea.sh export user@source-server
./migrate-gitea.sh import

# 验证数据
./migrate-gitea.sh verify
```

## 🔧 基础配置

### Web界面配置
访问 http://localhost:4000 → 管理员设置 → 站点配置

### 常用设置
- **站点名称**: 你的Git服务器名称
- **仓库根目录**: `/data/git/repositories` (默认)
- **用户注册**: 可选择开放或关闭

### SSH配置
```bash
# SSH配置 (克隆仓库用)
git clone http://localhost:4000/username/repo.git
git clone ssh://git@localhost:222/username/repo.git
```

## 📁 重要文件

| 文件 | 用途 |
|------|------|
| `docker-compose-gitea.yml` | 服务配置 |
| `manage-gitea.sh` | 管理脚本 |
| `migrate-gitea.sh` | 迁移脚本 |
| `Gitea使用指南.md` | 详细使用说明 |
| `存储挂载详解.md` | 存储技术说明 |

## 🔍 故障排除

### 服务无法访问
```bash
# 检查服务状态
./manage-gitea.sh status

# 检查端口占用
netstat -tlnp | grep :4000

# 查看日志
./manage-gitea.sh logs
```

### 忘记密码
```bash
# 重置管理员密码
docker exec -it gitea gitea admin user change-password --username admin --password 新密码
```

### 数据迁移问题
```bash
# 查看数据卷
docker volume ls | grep gitea

# 验证数据完整性
./migrate-gitea.sh verify
```

## 📞 获取帮助

### 文档资源
- `Gitea使用指南.md` - 完整使用手册
- `Gitea完整安装与迁移指南.md` - 技术文档
- `存储挂载详解.md` - 存储说明
- `文档修复说明.md` - 已知问题

### 脚本帮助
```bash
./manage-gitea.sh          # 查看管理命令
./migrate-gitea.sh help    # 查看迁移命令
```

---

## 🎯 开始使用

1. **启动服务**: `./manage-gitea.sh start`
2. **访问界面**: http://localhost:4000
3. **创建账户**: 设置管理员用户
4. **创建仓库**: 开始你的第一个项目
5. **配置SSH**: 设置SSH密钥访问

**恭喜！你现在拥有了自己的Git服务器！** 🎉